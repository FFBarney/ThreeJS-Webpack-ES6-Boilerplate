{"version":3,"sources":["webpack:///./src/js/utils/orbitControls.js","webpack:///./src/js/data/config.js","webpack:///./src/js/utils/detector.js","webpack:///./src/js/app/components/renderer.js","webpack:///./src/js/app/components/camera.js","webpack:///./src/js/app/helpers/stats.js","webpack:///./src/js/app/components/controls.js","webpack:///./src/js/app/main.js","webpack:///./src/js/app.js"],"names":["module","exports","THREE","MOUSE","OrbitConstraint","object","this","target","Vector3","minDistance","maxDistance","Infinity","minZoom","maxZoom","minPolarAngle","maxPolarAngle","Math","PI","minAzimuthAngle","maxAzimuthAngle","enableDamping","dampingFactor","theta","phi","v","offset","quat","quatInverse","lastPosition","lastQuaternion","scope","EPS","phiDelta","thetaDelta","scale","panOffset","zoomChanged","getPolarAngle","getAzimuthalAngle","rotateLeft","angle","rotateUp","panLeft","distance","te","matrix","elements","set","multiplyScalar","add","panUp","pan","deltaX","deltaY","screenWidth","screenHeight","PerspectiveCamera","targetDistance","position","clone","sub","length","tan","fov","OrthographicCamera","right","left","top","bottom","console","warn","dollyIn","dollyScale","zoom","max","min","updateProjectionMatrix","dollyOut","update","Quaternion","setFromUnitVectors","up","inverse","copy","applyQuaternion","atan2","x","z","sqrt","y","radius","sin","cos","lookAt","distanceToSquared","dot","quaternion","OrbitControls","domElement","constraint","undefined","document","Object","defineProperty","get","enabled","center","enableZoom","zoomSpeed","enableRotate","rotateSpeed","enablePan","keyPanSpeed","autoRotate","autoRotateSpeed","enableKeys","keys","LEFT","UP","RIGHT","BOTTOM","mouseButtons","ORBIT","ZOOM","MIDDLE","PAN","rotateStart","Vector2","rotateEnd","rotateDelta","panStart","panEnd","panDelta","dollyStart","dollyEnd","dollyDelta","STATE","NONE","ROTATE","DOLLY","TOUCH_ROTATE","TOUCH_DOLLY","TOUCH_PAN","state","target0","position0","zoom0","changeEvent","type","startEvent","endEvent","element","body","clientWidth","clientHeight","getZoomScale","pow","onMouseDown","event","preventDefault","button","clientX","clientY","addEventListener","onMouseMove","onMouseUp","dispatchEvent","subVectors","removeEventListener","onMouseWheel","stopPropagation","delta","wheelDelta","detail","onKeyDown","keyCode","touchstart","touches","pageX","pageY","dx","dy","touchmove","touchend","contextmenu","reset","dispose","window","prototype","create","EventDispatcher","constructor","defineProperties","value","noZoom","noRotate","noPan","noKeys","staticMoving","dynamicDampingFactor","config","isDev","showStats","clearColor","antialias","shadowMapEnabled","fog","color","near","camera","far","aspect","posX","posY","posZ","controls","detector","canvas","CanvasRenderingContext2D","webgl","createElement","WebGLRenderingContext","getContext","e","workers","Worker","fileapi","File","FileReader","FileList","Blob","getWebGLErrorMessage","id","style","fontFamily","fontSize","fontWeight","textAlign","background","padding","width","margin","innerHTML","join","addGetWebGLMessage","parameters","parent","appendChild","Renderer","scene","container","_this","_classCallCheck","_scene","_container","threeRenderer","setClearColor","setPixelRatio","devicePixelRatio","shadowMap","updateSize","setSize","offsetWidth","offsetHeight","render","Camera","renderer","camera_classCallCheck","height","threeCamera","rS","bS","glS","tS","Controls","controls_classCallCheck","orbitControls","threeControls","init","Stats","stats_classCallCheck","BrowserStats","glStats","threeStats","rStats","CSSPath","userTimingAPI","values","frame","caption","over","average","avgMs","fps","below","calls","raf","rstats","texture","groups","fractions","base","steps","plugins","start","tick","end","Main","main_classCallCheck","_clock","_renderer","_camera","_controls","_fog","_init","_hideLoadingText","_render","stats","setUp","querySelector","display","TWEEN","requestAnimationFrame","bind","Detector","getElementById"],"mappings":"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","file":"0.app.js","sourcesContent":["module.exports = function(THREE) {\r\n  var MOUSE = THREE.MOUSE\r\n  if (!MOUSE)\r\n    MOUSE = { LEFT: 0, MIDDLE: 1, RIGHT: 2 };\r\n\r\n  /**\r\n   * @author qiao / https://github.com/qiao\r\n   * @author mrdoob / http://mrdoob.com\r\n   * @author alteredq / http://alteredqualia.com/\r\n   * @author WestLangley / http://github.com/WestLangley\r\n   * @author erich666 / http://erichaines.com\r\n   */\r\n  /*global THREE, console */\r\n\r\n  function OrbitConstraint ( object ) {\r\n\r\n    this.object = object;\r\n\r\n    // \"target\" sets the location of focus, where the object orbits around\r\n    // and where it pans with respect to.\r\n    this.target = new THREE.Vector3();\r\n\r\n    // Limits to how far you can dolly in and out ( PerspectiveCamera only )\r\n    this.minDistance = 0;\r\n    this.maxDistance = Infinity;\r\n\r\n    // Limits to how far you can zoom in and out ( OrthographicCamera only )\r\n    this.minZoom = 0;\r\n    this.maxZoom = Infinity;\r\n\r\n    // How far you can orbit vertically, upper and lower limits.\r\n    // Range is 0 to Math.PI radians.\r\n    this.minPolarAngle = 0; // radians\r\n    this.maxPolarAngle = Math.PI; // radians\r\n\r\n    // How far you can orbit horizontally, upper and lower limits.\r\n    // If set, must be a sub-interval of the interval [ - Math.PI, Math.PI ].\r\n    this.minAzimuthAngle = - Infinity; // radians\r\n    this.maxAzimuthAngle = Infinity; // radians\r\n\r\n    // Set to true to enable damping (inertia)\r\n    // If damping is enabled, you must call controls.update() in your animation loop\r\n    this.enableDamping = false;\r\n    this.dampingFactor = 0.25;\r\n\r\n    ////////////\r\n    // internals\r\n\r\n    var scope = this;\r\n\r\n    var EPS = 0.000001;\r\n\r\n    // Current position in spherical coordinate system.\r\n    var theta;\r\n    var phi;\r\n\r\n    // Pending changes\r\n    var phiDelta = 0;\r\n    var thetaDelta = 0;\r\n    var scale = 1;\r\n    var panOffset = new THREE.Vector3();\r\n    var zoomChanged = false;\r\n\r\n    // API\r\n\r\n    this.getPolarAngle = function () {\r\n\r\n      return phi;\r\n\r\n    };\r\n\r\n    this.getAzimuthalAngle = function () {\r\n\r\n      return theta;\r\n\r\n    };\r\n\r\n    this.rotateLeft = function ( angle ) {\r\n\r\n      thetaDelta -= angle;\r\n\r\n    };\r\n\r\n    this.rotateUp = function ( angle ) {\r\n\r\n      phiDelta -= angle;\r\n\r\n    };\r\n\r\n    // pass in distance in world space to move left\r\n    this.panLeft = function() {\r\n\r\n      var v = new THREE.Vector3();\r\n\r\n      return function panLeft ( distance ) {\r\n\r\n        var te = this.object.matrix.elements;\r\n\r\n        // get X column of matrix\r\n        v.set( te[ 0 ], te[ 1 ], te[ 2 ] );\r\n        v.multiplyScalar( - distance );\r\n\r\n        panOffset.add( v );\r\n\r\n      };\r\n\r\n    }();\r\n\r\n    // pass in distance in world space to move up\r\n    this.panUp = function() {\r\n\r\n      var v = new THREE.Vector3();\r\n\r\n      return function panUp ( distance ) {\r\n\r\n        var te = this.object.matrix.elements;\r\n\r\n        // get Y column of matrix\r\n        v.set( te[ 4 ], te[ 5 ], te[ 6 ] );\r\n        v.multiplyScalar( distance );\r\n\r\n        panOffset.add( v );\r\n\r\n      };\r\n\r\n    }();\r\n\r\n    // pass in x,y of change desired in pixel space,\r\n    // right and down are positive\r\n    this.pan = function ( deltaX, deltaY, screenWidth, screenHeight ) {\r\n\r\n      if ( scope.object instanceof THREE.PerspectiveCamera ) {\r\n\r\n        // perspective\r\n        var position = scope.object.position;\r\n        var offset = position.clone().sub( scope.target );\r\n        var targetDistance = offset.length();\r\n\r\n        // half of the fov is center to top of screen\r\n        targetDistance *= Math.tan( ( scope.object.fov / 2 ) * Math.PI / 180.0 );\r\n\r\n        // we actually don't use screenWidth, since perspective camera is fixed to screen height\r\n        scope.panLeft( 2 * deltaX * targetDistance / screenHeight );\r\n        scope.panUp( 2 * deltaY * targetDistance / screenHeight );\r\n\r\n      } else if ( scope.object instanceof THREE.OrthographicCamera ) {\r\n\r\n        // orthographic\r\n        scope.panLeft( deltaX * ( scope.object.right - scope.object.left ) / screenWidth );\r\n        scope.panUp( deltaY * ( scope.object.top - scope.object.bottom ) / screenHeight );\r\n\r\n      } else {\r\n\r\n        // camera neither orthographic or perspective\r\n        console.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.' );\r\n\r\n      }\r\n\r\n    };\r\n\r\n    this.dollyIn = function ( dollyScale ) {\r\n\r\n      if ( scope.object instanceof THREE.PerspectiveCamera ) {\r\n\r\n        scale /= dollyScale;\r\n\r\n      } else if ( scope.object instanceof THREE.OrthographicCamera ) {\r\n\r\n        scope.object.zoom = Math.max( this.minZoom, Math.min( this.maxZoom, this.object.zoom * dollyScale ) );\r\n        scope.object.updateProjectionMatrix();\r\n        zoomChanged = true;\r\n\r\n      } else {\r\n\r\n        console.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\r\n\r\n      }\r\n\r\n    };\r\n\r\n    this.dollyOut = function ( dollyScale ) {\r\n\r\n      if ( scope.object instanceof THREE.PerspectiveCamera ) {\r\n\r\n        scale *= dollyScale;\r\n\r\n      } else if ( scope.object instanceof THREE.OrthographicCamera ) {\r\n\r\n        scope.object.zoom = Math.max( this.minZoom, Math.min( this.maxZoom, this.object.zoom / dollyScale ) );\r\n        scope.object.updateProjectionMatrix();\r\n        zoomChanged = true;\r\n\r\n      } else {\r\n\r\n        console.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\r\n\r\n      }\r\n\r\n    };\r\n\r\n    this.update = function() {\r\n\r\n      var offset = new THREE.Vector3();\r\n\r\n      // so camera.up is the orbit axis\r\n      var quat = new THREE.Quaternion().setFromUnitVectors( object.up, new THREE.Vector3( 0, 1, 0 ) );\r\n      var quatInverse = quat.clone().inverse();\r\n\r\n      var lastPosition = new THREE.Vector3();\r\n      var lastQuaternion = new THREE.Quaternion();\r\n\r\n      return function () {\r\n\r\n        var position = this.object.position;\r\n\r\n        offset.copy( position ).sub( this.target );\r\n\r\n        // rotate offset to \"y-axis-is-up\" space\r\n        offset.applyQuaternion( quat );\r\n\r\n        // angle from z-axis around y-axis\r\n\r\n        theta = Math.atan2( offset.x, offset.z );\r\n\r\n        // angle from y-axis\r\n\r\n        phi = Math.atan2( Math.sqrt( offset.x * offset.x + offset.z * offset.z ), offset.y );\r\n\r\n        theta += thetaDelta;\r\n        phi += phiDelta;\r\n\r\n        // restrict theta to be between desired limits\r\n        theta = Math.max( this.minAzimuthAngle, Math.min( this.maxAzimuthAngle, theta ) );\r\n\r\n        // restrict phi to be between desired limits\r\n        phi = Math.max( this.minPolarAngle, Math.min( this.maxPolarAngle, phi ) );\r\n\r\n        // restrict phi to be betwee EPS and PI-EPS\r\n        phi = Math.max( EPS, Math.min( Math.PI - EPS, phi ) );\r\n\r\n        var radius = offset.length() * scale;\r\n\r\n        // restrict radius to be between desired limits\r\n        radius = Math.max( this.minDistance, Math.min( this.maxDistance, radius ) );\r\n\r\n        // move target to panned location\r\n        this.target.add( panOffset );\r\n\r\n        offset.x = radius * Math.sin( phi ) * Math.sin( theta );\r\n        offset.y = radius * Math.cos( phi );\r\n        offset.z = radius * Math.sin( phi ) * Math.cos( theta );\r\n\r\n        // rotate offset back to \"camera-up-vector-is-up\" space\r\n        offset.applyQuaternion( quatInverse );\r\n\r\n        position.copy( this.target ).add( offset );\r\n\r\n        this.object.lookAt( this.target );\r\n\r\n        if ( this.enableDamping === true ) {\r\n\r\n          thetaDelta *= ( 1 - this.dampingFactor );\r\n          phiDelta *= ( 1 - this.dampingFactor );\r\n\r\n        } else {\r\n\r\n          thetaDelta = 0;\r\n          phiDelta = 0;\r\n\r\n        }\r\n\r\n        scale = 1;\r\n        panOffset.set( 0, 0, 0 );\r\n\r\n        // update condition is:\r\n        // min(camera displacement, camera rotation in radians)^2 > EPS\r\n        // using small-angle approximation cos(x/2) = 1 - x^2 / 8\r\n\r\n        if ( zoomChanged ||\r\n          lastPosition.distanceToSquared( this.object.position ) > EPS ||\r\n          8 * ( 1 - lastQuaternion.dot( this.object.quaternion ) ) > EPS ) {\r\n\r\n          lastPosition.copy( this.object.position );\r\n          lastQuaternion.copy( this.object.quaternion );\r\n          zoomChanged = false;\r\n\r\n          return true;\r\n\r\n        }\r\n\r\n        return false;\r\n\r\n      };\r\n\r\n    }();\r\n\r\n  };\r\n\r\n\r\n  // This set of controls performs orbiting, dollying (zooming), and panning. It maintains\r\n  // the \"up\" direction as +Y, unlike the TrackballControls. Touch on tablet and phones is\r\n  // supported.\r\n  //\r\n  //    Orbit - left mouse / touch: one finger move\r\n  //    Zoom - middle mouse, or mousewheel / touch: two finger spread or squish\r\n  //    Pan - right mouse, or arrow keys / touch: three finter swipe\r\n\r\n  function OrbitControls ( object, domElement ) {\r\n\r\n    var constraint = new OrbitConstraint( object );\r\n\r\n    this.domElement = ( domElement !== undefined ) ? domElement : document;\r\n\r\n    // API\r\n\r\n    Object.defineProperty( this, 'constraint', {\r\n\r\n      get: function() {\r\n\r\n        return constraint;\r\n\r\n      }\r\n\r\n    } );\r\n\r\n    this.getPolarAngle = function () {\r\n\r\n      return constraint.getPolarAngle();\r\n\r\n    };\r\n\r\n    this.getAzimuthalAngle = function () {\r\n\r\n      return constraint.getAzimuthalAngle();\r\n\r\n    };\r\n\r\n    // Set to false to disable this control\r\n    this.enabled = true;\r\n\r\n    // center is old, deprecated; use \"target\" instead\r\n    this.center = this.target;\r\n\r\n    // This option actually enables dollying in and out; left as \"zoom\" for\r\n    // backwards compatibility.\r\n    // Set to false to disable zooming\r\n    this.enableZoom = true;\r\n    this.zoomSpeed = 1.0;\r\n\r\n    // Set to false to disable rotating\r\n    this.enableRotate = true;\r\n    this.rotateSpeed = 1.0;\r\n\r\n    // Set to false to disable panning\r\n    this.enablePan = true;\r\n    this.keyPanSpeed = 7.0;\t// pixels moved per arrow key push\r\n\r\n    // Set to true to automatically rotate around the target\r\n    // If auto-rotate is enabled, you must call controls.update() in your animation loop\r\n    this.autoRotate = false;\r\n    this.autoRotateSpeed = 2.0; // 30 seconds per round when fps is 60\r\n\r\n    // Set to false to disable use of the keys\r\n    this.enableKeys = true;\r\n\r\n    // The four arrow keys\r\n    this.keys = { LEFT: 37, UP: 38, RIGHT: 39, BOTTOM: 40 };\r\n\r\n    // Mouse buttons\r\n    this.mouseButtons = { ORBIT: THREE.MOUSE.LEFT, ZOOM: THREE.MOUSE.MIDDLE, PAN: THREE.MOUSE.RIGHT };\r\n\r\n    ////////////\r\n    // internals\r\n\r\n    var scope = this;\r\n\r\n    var rotateStart = new THREE.Vector2();\r\n    var rotateEnd = new THREE.Vector2();\r\n    var rotateDelta = new THREE.Vector2();\r\n\r\n    var panStart = new THREE.Vector2();\r\n    var panEnd = new THREE.Vector2();\r\n    var panDelta = new THREE.Vector2();\r\n\r\n    var dollyStart = new THREE.Vector2();\r\n    var dollyEnd = new THREE.Vector2();\r\n    var dollyDelta = new THREE.Vector2();\r\n\r\n    var STATE = { NONE : - 1, ROTATE : 0, DOLLY : 1, PAN : 2, TOUCH_ROTATE : 3, TOUCH_DOLLY : 4, TOUCH_PAN : 5 };\r\n\r\n    var state = STATE.NONE;\r\n\r\n    // for reset\r\n\r\n    this.target0 = this.target.clone();\r\n    this.position0 = this.object.position.clone();\r\n    this.zoom0 = this.object.zoom;\r\n\r\n    // events\r\n\r\n    var changeEvent = { type: 'change' };\r\n    var startEvent = { type: 'start' };\r\n    var endEvent = { type: 'end' };\r\n\r\n    // pass in x,y of change desired in pixel space,\r\n    // right and down are positive\r\n    function pan( deltaX, deltaY ) {\r\n\r\n      var element = scope.domElement === document ? scope.domElement.body : scope.domElement;\r\n\r\n      constraint.pan( deltaX, deltaY, element.clientWidth, element.clientHeight );\r\n\r\n    }\r\n\r\n    this.update = function () {\r\n\r\n      if ( this.autoRotate && state === STATE.NONE ) {\r\n\r\n        constraint.rotateLeft( getAutoRotationAngle() );\r\n\r\n      }\r\n\r\n      if ( constraint.update() === true ) {\r\n\r\n        this.dispatchEvent( changeEvent );\r\n\r\n      }\r\n\r\n    };\r\n\r\n    this.reset = function () {\r\n\r\n      state = STATE.NONE;\r\n\r\n      this.target.copy( this.target0 );\r\n      this.object.position.copy( this.position0 );\r\n      this.object.zoom = this.zoom0;\r\n\r\n      this.object.updateProjectionMatrix();\r\n      this.dispatchEvent( changeEvent );\r\n\r\n      this.update();\r\n\r\n    };\r\n\r\n    function getAutoRotationAngle() {\r\n\r\n      return 2 * Math.PI / 60 / 60 * scope.autoRotateSpeed;\r\n\r\n    }\r\n\r\n    function getZoomScale() {\r\n\r\n      return Math.pow( 0.95, scope.zoomSpeed );\r\n\r\n    }\r\n\r\n    function onMouseDown( event ) {\r\n\r\n      if ( scope.enabled === false ) return;\r\n\r\n      event.preventDefault();\r\n\r\n      if ( event.button === scope.mouseButtons.ORBIT ) {\r\n\r\n        if ( scope.enableRotate === false ) return;\r\n\r\n        state = STATE.ROTATE;\r\n\r\n        rotateStart.set( event.clientX, event.clientY );\r\n\r\n      } else if ( event.button === scope.mouseButtons.ZOOM ) {\r\n\r\n        if ( scope.enableZoom === false ) return;\r\n\r\n        state = STATE.DOLLY;\r\n\r\n        dollyStart.set( event.clientX, event.clientY );\r\n\r\n      } else if ( event.button === scope.mouseButtons.PAN ) {\r\n\r\n        if ( scope.enablePan === false ) return;\r\n\r\n        state = STATE.PAN;\r\n\r\n        panStart.set( event.clientX, event.clientY );\r\n\r\n      }\r\n\r\n      if ( state !== STATE.NONE ) {\r\n\r\n        document.addEventListener( 'mousemove', onMouseMove, false );\r\n        document.addEventListener( 'mouseup', onMouseUp, false );\r\n        scope.dispatchEvent( startEvent );\r\n\r\n      }\r\n\r\n    }\r\n\r\n    function onMouseMove( event ) {\r\n\r\n      if ( scope.enabled === false ) return;\r\n\r\n      event.preventDefault();\r\n\r\n      var element = scope.domElement === document ? scope.domElement.body : scope.domElement;\r\n\r\n      if ( state === STATE.ROTATE ) {\r\n\r\n        if ( scope.enableRotate === false ) return;\r\n\r\n        rotateEnd.set( event.clientX, event.clientY );\r\n        rotateDelta.subVectors( rotateEnd, rotateStart );\r\n\r\n        // rotating across whole screen goes 360 degrees around\r\n        constraint.rotateLeft( 2 * Math.PI * rotateDelta.x / element.clientWidth * scope.rotateSpeed );\r\n\r\n        // rotating up and down along whole screen attempts to go 360, but limited to 180\r\n        constraint.rotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight * scope.rotateSpeed );\r\n\r\n        rotateStart.copy( rotateEnd );\r\n\r\n      } else if ( state === STATE.DOLLY ) {\r\n\r\n        if ( scope.enableZoom === false ) return;\r\n\r\n        dollyEnd.set( event.clientX, event.clientY );\r\n        dollyDelta.subVectors( dollyEnd, dollyStart );\r\n\r\n        if ( dollyDelta.y > 0 ) {\r\n\r\n          constraint.dollyIn( getZoomScale() );\r\n\r\n        } else if ( dollyDelta.y < 0 ) {\r\n\r\n          constraint.dollyOut( getZoomScale() );\r\n\r\n        }\r\n\r\n        dollyStart.copy( dollyEnd );\r\n\r\n      } else if ( state === STATE.PAN ) {\r\n\r\n        if ( scope.enablePan === false ) return;\r\n\r\n        panEnd.set( event.clientX, event.clientY );\r\n        panDelta.subVectors( panEnd, panStart );\r\n\r\n        pan( panDelta.x, panDelta.y );\r\n\r\n        panStart.copy( panEnd );\r\n\r\n      }\r\n\r\n      if ( state !== STATE.NONE ) scope.update();\r\n\r\n    }\r\n\r\n    function onMouseUp( /* event */ ) {\r\n\r\n      if ( scope.enabled === false ) return;\r\n\r\n      document.removeEventListener( 'mousemove', onMouseMove, false );\r\n      document.removeEventListener( 'mouseup', onMouseUp, false );\r\n      scope.dispatchEvent( endEvent );\r\n      state = STATE.NONE;\r\n\r\n    }\r\n\r\n    function onMouseWheel( event ) {\r\n\r\n      if ( scope.enabled === false || scope.enableZoom === false || state !== STATE.NONE ) return;\r\n\r\n      event.preventDefault();\r\n      event.stopPropagation();\r\n\r\n      var delta = 0;\r\n\r\n      if ( event.wheelDelta !== undefined ) {\r\n\r\n        // WebKit / Opera / Explorer 9\r\n\r\n        delta = event.wheelDelta;\r\n\r\n      } else if ( event.detail !== undefined ) {\r\n\r\n        // Firefox\r\n\r\n        delta = - event.detail;\r\n\r\n      }\r\n\r\n      if ( delta > 0 ) {\r\n\r\n        constraint.dollyOut( getZoomScale() );\r\n\r\n      } else if ( delta < 0 ) {\r\n\r\n        constraint.dollyIn( getZoomScale() );\r\n\r\n      }\r\n\r\n      scope.update();\r\n      scope.dispatchEvent( startEvent );\r\n      scope.dispatchEvent( endEvent );\r\n\r\n    }\r\n\r\n    function onKeyDown( event ) {\r\n\r\n      if ( scope.enabled === false || scope.enableKeys === false || scope.enablePan === false ) return;\r\n\r\n      switch ( event.keyCode ) {\r\n\r\n        case scope.keys.UP:\r\n          pan( 0, scope.keyPanSpeed );\r\n          scope.update();\r\n          break;\r\n\r\n        case scope.keys.BOTTOM:\r\n          pan( 0, - scope.keyPanSpeed );\r\n          scope.update();\r\n          break;\r\n\r\n        case scope.keys.LEFT:\r\n          pan( scope.keyPanSpeed, 0 );\r\n          scope.update();\r\n          break;\r\n\r\n        case scope.keys.RIGHT:\r\n          pan( - scope.keyPanSpeed, 0 );\r\n          scope.update();\r\n          break;\r\n\r\n      }\r\n\r\n    }\r\n\r\n    function touchstart( event ) {\r\n\r\n      if ( scope.enabled === false ) return;\r\n\r\n      switch ( event.touches.length ) {\r\n\r\n        case 1:\t// one-fingered touch: rotate\r\n\r\n          if ( scope.enableRotate === false ) return;\r\n\r\n          state = STATE.TOUCH_ROTATE;\r\n\r\n          rotateStart.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\r\n          break;\r\n\r\n        case 2:\t// two-fingered touch: dolly\r\n\r\n          if ( scope.enableZoom === false ) return;\r\n\r\n          state = STATE.TOUCH_DOLLY;\r\n\r\n          var dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\r\n          var dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\r\n          var distance = Math.sqrt( dx * dx + dy * dy );\r\n          dollyStart.set( 0, distance );\r\n          break;\r\n\r\n        case 3: // three-fingered touch: pan\r\n\r\n          if ( scope.enablePan === false ) return;\r\n\r\n          state = STATE.TOUCH_PAN;\r\n\r\n          panStart.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\r\n          break;\r\n\r\n        default:\r\n\r\n          state = STATE.NONE;\r\n\r\n      }\r\n\r\n      if ( state !== STATE.NONE ) scope.dispatchEvent( startEvent );\r\n\r\n    }\r\n\r\n    function touchmove( event ) {\r\n\r\n      if ( scope.enabled === false ) return;\r\n\r\n      event.preventDefault();\r\n      event.stopPropagation();\r\n\r\n      var element = scope.domElement === document ? scope.domElement.body : scope.domElement;\r\n\r\n      switch ( event.touches.length ) {\r\n\r\n        case 1: // one-fingered touch: rotate\r\n\r\n          if ( scope.enableRotate === false ) return;\r\n          if ( state !== STATE.TOUCH_ROTATE ) return;\r\n\r\n          rotateEnd.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\r\n          rotateDelta.subVectors( rotateEnd, rotateStart );\r\n\r\n          // rotating across whole screen goes 360 degrees around\r\n          constraint.rotateLeft( 2 * Math.PI * rotateDelta.x / element.clientWidth * scope.rotateSpeed );\r\n          // rotating up and down along whole screen attempts to go 360, but limited to 180\r\n          constraint.rotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight * scope.rotateSpeed );\r\n\r\n          rotateStart.copy( rotateEnd );\r\n\r\n          scope.update();\r\n          break;\r\n\r\n        case 2: // two-fingered touch: dolly\r\n\r\n          if ( scope.enableZoom === false ) return;\r\n          if ( state !== STATE.TOUCH_DOLLY ) return;\r\n\r\n          var dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\r\n          var dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\r\n          var distance = Math.sqrt( dx * dx + dy * dy );\r\n\r\n          dollyEnd.set( 0, distance );\r\n          dollyDelta.subVectors( dollyEnd, dollyStart );\r\n\r\n          if ( dollyDelta.y > 0 ) {\r\n\r\n            constraint.dollyOut( getZoomScale() );\r\n\r\n          } else if ( dollyDelta.y < 0 ) {\r\n\r\n            constraint.dollyIn( getZoomScale() );\r\n\r\n          }\r\n\r\n          dollyStart.copy( dollyEnd );\r\n\r\n          scope.update();\r\n          break;\r\n\r\n        case 3: // three-fingered touch: pan\r\n\r\n          if ( scope.enablePan === false ) return;\r\n          if ( state !== STATE.TOUCH_PAN ) return;\r\n\r\n          panEnd.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\r\n          panDelta.subVectors( panEnd, panStart );\r\n\r\n          pan( panDelta.x, panDelta.y );\r\n\r\n          panStart.copy( panEnd );\r\n\r\n          scope.update();\r\n          break;\r\n\r\n        default:\r\n\r\n          state = STATE.NONE;\r\n\r\n      }\r\n\r\n    }\r\n\r\n    function touchend( /* event */ ) {\r\n\r\n      if ( scope.enabled === false ) return;\r\n\r\n      scope.dispatchEvent( endEvent );\r\n      state = STATE.NONE;\r\n\r\n    }\r\n\r\n    function contextmenu( event ) {\r\n\r\n      event.preventDefault();\r\n\r\n    }\r\n\r\n    this.dispose = function() {\r\n\r\n      this.domElement.removeEventListener( 'contextmenu', contextmenu, false );\r\n      this.domElement.removeEventListener( 'mousedown', onMouseDown, false );\r\n      this.domElement.removeEventListener( 'mousewheel', onMouseWheel, false );\r\n      this.domElement.removeEventListener( 'MozMousePixelScroll', onMouseWheel, false ); // firefox\r\n\r\n      this.domElement.removeEventListener( 'touchstart', touchstart, false );\r\n      this.domElement.removeEventListener( 'touchend', touchend, false );\r\n      this.domElement.removeEventListener( 'touchmove', touchmove, false );\r\n\r\n      document.removeEventListener( 'mousemove', onMouseMove, false );\r\n      document.removeEventListener( 'mouseup', onMouseUp, false );\r\n\r\n      window.removeEventListener( 'keydown', onKeyDown, false );\r\n\r\n    }\r\n\r\n    this.domElement.addEventListener( 'contextmenu', contextmenu, false );\r\n\r\n    this.domElement.addEventListener( 'mousedown', onMouseDown, false );\r\n    this.domElement.addEventListener( 'mousewheel', onMouseWheel, false );\r\n    this.domElement.addEventListener( 'MozMousePixelScroll', onMouseWheel, false ); // firefox\r\n\r\n    this.domElement.addEventListener( 'touchstart', touchstart, false );\r\n    this.domElement.addEventListener( 'touchend', touchend, false );\r\n    this.domElement.addEventListener( 'touchmove', touchmove, false );\r\n\r\n    window.addEventListener( 'keydown', onKeyDown, false );\r\n\r\n    // force an update at start\r\n    this.update();\r\n\r\n  };\r\n\r\n  OrbitControls.prototype = Object.create( THREE.EventDispatcher.prototype );\r\n  OrbitControls.prototype.constructor = OrbitControls;\r\n\r\n  Object.defineProperties( OrbitControls.prototype, {\r\n\r\n    object: {\r\n\r\n      get: function () {\r\n\r\n        return this.constraint.object;\r\n\r\n      }\r\n\r\n    },\r\n\r\n    target: {\r\n\r\n      get: function () {\r\n\r\n        return this.constraint.target;\r\n\r\n      },\r\n\r\n      set: function ( value ) {\r\n\r\n        console.warn( 'THREE.OrbitControls: target is now immutable. Use target.set() instead.' );\r\n        this.constraint.target.copy( value );\r\n\r\n      }\r\n\r\n    },\r\n\r\n    minDistance : {\r\n\r\n      get: function () {\r\n\r\n        return this.constraint.minDistance;\r\n\r\n      },\r\n\r\n      set: function ( value ) {\r\n\r\n        this.constraint.minDistance = value;\r\n\r\n      }\r\n\r\n    },\r\n\r\n    maxDistance : {\r\n\r\n      get: function () {\r\n\r\n        return this.constraint.maxDistance;\r\n\r\n      },\r\n\r\n      set: function ( value ) {\r\n\r\n        this.constraint.maxDistance = value;\r\n\r\n      }\r\n\r\n    },\r\n\r\n    minZoom : {\r\n\r\n      get: function () {\r\n\r\n        return this.constraint.minZoom;\r\n\r\n      },\r\n\r\n      set: function ( value ) {\r\n\r\n        this.constraint.minZoom = value;\r\n\r\n      }\r\n\r\n    },\r\n\r\n    maxZoom : {\r\n\r\n      get: function () {\r\n\r\n        return this.constraint.maxZoom;\r\n\r\n      },\r\n\r\n      set: function ( value ) {\r\n\r\n        this.constraint.maxZoom = value;\r\n\r\n      }\r\n\r\n    },\r\n\r\n    minPolarAngle : {\r\n\r\n      get: function () {\r\n\r\n        return this.constraint.minPolarAngle;\r\n\r\n      },\r\n\r\n      set: function ( value ) {\r\n\r\n        this.constraint.minPolarAngle = value;\r\n\r\n      }\r\n\r\n    },\r\n\r\n    maxPolarAngle : {\r\n\r\n      get: function () {\r\n\r\n        return this.constraint.maxPolarAngle;\r\n\r\n      },\r\n\r\n      set: function ( value ) {\r\n\r\n        this.constraint.maxPolarAngle = value;\r\n\r\n      }\r\n\r\n    },\r\n\r\n    minAzimuthAngle : {\r\n\r\n      get: function () {\r\n\r\n        return this.constraint.minAzimuthAngle;\r\n\r\n      },\r\n\r\n      set: function ( value ) {\r\n\r\n        this.constraint.minAzimuthAngle = value;\r\n\r\n      }\r\n\r\n    },\r\n\r\n    maxAzimuthAngle : {\r\n\r\n      get: function () {\r\n\r\n        return this.constraint.maxAzimuthAngle;\r\n\r\n      },\r\n\r\n      set: function ( value ) {\r\n\r\n        this.constraint.maxAzimuthAngle = value;\r\n\r\n      }\r\n\r\n    },\r\n\r\n    enableDamping : {\r\n\r\n      get: function () {\r\n\r\n        return this.constraint.enableDamping;\r\n\r\n      },\r\n\r\n      set: function ( value ) {\r\n\r\n        this.constraint.enableDamping = value;\r\n\r\n      }\r\n\r\n    },\r\n\r\n    dampingFactor : {\r\n\r\n      get: function () {\r\n\r\n        return this.constraint.dampingFactor;\r\n\r\n      },\r\n\r\n      set: function ( value ) {\r\n\r\n        this.constraint.dampingFactor = value;\r\n\r\n      }\r\n\r\n    },\r\n\r\n    // backward compatibility\r\n\r\n    noZoom: {\r\n\r\n      get: function () {\r\n\r\n        console.warn( 'THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.' );\r\n        return ! this.enableZoom;\r\n\r\n      },\r\n\r\n      set: function ( value ) {\r\n\r\n        console.warn( 'THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.' );\r\n        this.enableZoom = ! value;\r\n\r\n      }\r\n\r\n    },\r\n\r\n    noRotate: {\r\n\r\n      get: function () {\r\n\r\n        console.warn( 'THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.' );\r\n        return ! this.enableRotate;\r\n\r\n      },\r\n\r\n      set: function ( value ) {\r\n\r\n        console.warn( 'THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.' );\r\n        this.enableRotate = ! value;\r\n\r\n      }\r\n\r\n    },\r\n\r\n    noPan: {\r\n\r\n      get: function () {\r\n\r\n        console.warn( 'THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead.' );\r\n        return ! this.enablePan;\r\n\r\n      },\r\n\r\n      set: function ( value ) {\r\n\r\n        console.warn( 'THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead.' );\r\n        this.enablePan = ! value;\r\n\r\n      }\r\n\r\n    },\r\n\r\n    noKeys: {\r\n\r\n      get: function () {\r\n\r\n        console.warn( 'THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.' );\r\n        return ! this.enableKeys;\r\n\r\n      },\r\n\r\n      set: function ( value ) {\r\n\r\n        console.warn( 'THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.' );\r\n        this.enableKeys = ! value;\r\n\r\n      }\r\n\r\n    },\r\n\r\n    staticMoving : {\r\n\r\n      get: function () {\r\n\r\n        console.warn( 'THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead.' );\r\n        return ! this.constraint.enableDamping;\r\n\r\n      },\r\n\r\n      set: function ( value ) {\r\n\r\n        console.warn( 'THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead.' );\r\n        this.constraint.enableDamping = ! value;\r\n\r\n      }\r\n\r\n    },\r\n\r\n    dynamicDampingFactor : {\r\n\r\n      get: function () {\r\n\r\n        console.warn( 'THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.' );\r\n        return this.constraint.dampingFactor;\r\n\r\n      },\r\n\r\n      set: function ( value ) {\r\n\r\n        console.warn( 'THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.' );\r\n        this.constraint.dampingFactor = value;\r\n\r\n      }\r\n\r\n    }\r\n\r\n  } );\r\n\r\n  return OrbitControls;\r\n}\r\n","export default {\r\n  isDev: false,\r\n  showStats: true,\r\n  clearColor: 0xffffff,\r\n  antialias: true,\r\n  shadowMapEnabled: true,\r\n  fog: {\r\n    color: 0xffffff,\r\n    near: 0.0008\r\n  },\r\n  camera: {\r\n    fov: 40,\r\n    near: 2,\r\n    far: 1000,\r\n    aspect: 1,\r\n    posX: 0,\r\n    posY: 30,\r\n    posZ: 40\r\n  },\r\n  controls: {\r\n    autoRotate: true,\r\n    autoRotateSpeed: -0.5,\r\n    rotateSpeed: 0.5,\r\n    zoomSpeed: 0.8,\r\n    minDistance: 200,\r\n    maxDistance: 600,\r\n    minPolarAngle: Math.PI / 5,\r\n    maxPolarAngle: Math.PI / 2,\r\n    minAzimuthAngle: -Infinity,\r\n    maxAzimuthAngle: Infinity,\r\n    enableDamping: true,\r\n    dampingFactor: 0.5,\r\n    enableZoom: true,\r\n    target: {\r\n      x: 0,\r\n      y: 0,\r\n      z: 0\r\n    }\r\n  },\r\n};\r\n","/**\r\n * @author alteredq / http://alteredqualia.com/\r\n * @author mr.doob / http://mrdoob.com/\r\n */\r\n\r\nexport default {\r\n  canvas: !!window.CanvasRenderingContext2D,\r\n  webgl: (function() {\r\n    try {\r\n      var canvas = document.createElement('canvas');\r\n\r\n      return !!(window.WebGLRenderingContext && (canvas.getContext('webgl') || canvas.getContext('experimental-webgl')));\r\n    } catch(e) {\r\n      return false;\r\n    }\r\n  })(),\r\n\r\n  workers: !!window.Worker,\r\n  fileapi: window.File && window.FileReader && window.FileList && window.Blob,\r\n\r\n  getWebGLErrorMessage: function() {\r\n    var element = document.createElement('div');\r\n    element.id = 'webgl-error-message';\r\n    element.style.fontFamily = 'monospace';\r\n    element.style.fontSize = '13px';\r\n    element.style.fontWeight = 'normal';\r\n    element.style.textAlign = 'center';\r\n    element.style.background = '#fff';\r\n    element.style.color = '#000';\r\n    element.style.padding = '1.5em';\r\n    element.style.width = '400px';\r\n    element.style.margin = '5em auto 0';\r\n\r\n    if(!this.webgl) {\r\n      element.innerHTML = window.WebGLRenderingContext ? [\r\n        'Your graphics card does not seem to support <a href=\"http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation\" style=\"color:#000000\">WebGL</a>.<br />',\r\n        'Find out how to get it <a href=\"http://get.webgl.org/\" style=\"color:#000000\">here</a>.'\r\n      ].join('\\n') : [\r\n        'Your browser does not seem to support <a href=\"http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation\" style=\"color:#000000\">WebGL</a>.<br/>',\r\n        'Find out how to get it <a href=\"http://get.webgl.org/\" style=\"color:#000000\">here</a>.'\r\n      ].join('\\n');\r\n    }\r\n\r\n    return element;\r\n  },\r\n\r\n  addGetWebGLMessage: function(parameters) {\r\n    var parent, id, element;\r\n\r\n    parameters = parameters || {};\r\n\r\n    parent = parameters.parent !== undefined ? parameters.parent : document.body;\r\n    id = parameters.id !== undefined ? parameters.id : 'oldie';\r\n\r\n    element = this.getWebGLErrorMessage();\r\n    element.id = id;\r\n\r\n    parent.appendChild(element);\r\n  }\r\n};\r\n","import * as THREE from 'three';\r\nimport config from '../../data/config';\r\n\r\n// Main webGL renderer class\r\nexport default class Renderer {\r\n  constructor(scene, container) {\r\n    this._scene = scene;\r\n    this._container = container;\r\n    this.threeRenderer = new THREE.WebGLRenderer({ antialias: config.antialias });\r\n\r\n    this.threeRenderer.setClearColor(config.clearColor);\r\n    this.threeRenderer.setPixelRatio(window.devicePixelRatio); // For retina\r\n    this.threeRenderer.shadowMap.enabled = config.shadowMapEnabled;\r\n    this.threeRenderer.shadowMap.type = THREE.PCFSoftShadowMap;\r\n    \r\n    container.appendChild(this.threeRenderer.domElement);\r\n    this.updateSize();\r\n\r\n    document.addEventListener('DOMContentLoaded', () => this.updateSize(), false);\r\n    window.addEventListener('resize', () => this.updateSize(), false);\r\n  }\r\n\r\n  updateSize() {\r\n    this.threeRenderer.setSize(this._container.offsetWidth, this._container.offsetHeight);\r\n  }\r\n\r\n  render(scene, camera) {\r\n    this.threeRenderer.render(scene, camera);\r\n  }\r\n}\r\n","import * as THREE from 'three';\r\n\r\nimport config from '../../data/config';\r\n\r\n// Class that creates and updates the main camera\r\nexport default class Camera {\r\n  constructor(renderer) {\r\n    const width = renderer.domElement.width;\r\n    const height = renderer.domElement.height;\r\n\r\n    // Create and position a Perspective Camera\r\n    this.threeCamera = new THREE.PerspectiveCamera(config.camera.fov, width / height, config.camera.near, config.camera.far);\r\n    this.threeCamera.position.set(config.camera.posX, config.camera.posY, config.camera.posZ);\r\n\r\n    // Initial sizing\r\n    this.updateSize(renderer);\r\n    \r\n    // Listeners\r\n    window.addEventListener('resize', () => this.updateSize(renderer), false);\r\n  }\r\n\r\n  updateSize(renderer) {\r\n    // Update camera aspect ratio with window aspect ratio\r\n    this.threeCamera.aspect = renderer.domElement.width / renderer.domElement.height;\r\n\r\n    // Always call updateProjectionMatrix on camera change\r\n    this.threeCamera.updateProjectionMatrix();\r\n  }\r\n}\r\n","// Local vars for rStats\r\nlet rS, bS, glS, tS;\r\nexport default class Stats {\r\n  constructor(renderer) {\r\n    this.renderer = renderer;\r\n  }\r\n\r\n  setUp() {\r\n    bS = new BrowserStats();\r\n    glS = new glStats();\r\n    tS = new threeStats(this.renderer.threeRenderer);\r\n\r\n    rS = new rStats({\r\n      CSSPath: './css/',\r\n      userTimingAPI: true,\r\n      values: {\r\n        frame: { caption: 'Total frame time (ms)', over: 16, average: true, avgMs: 100 },\r\n        fps: { caption: 'Framerate (FPS)', below: 30 },\r\n        calls: { caption: 'Calls (three.js)', over: 3000 },\r\n        raf: { caption: 'Time since last rAF (ms)', average: true, avgMs: 100 },\r\n        rstats: { caption: 'rStats update (ms)', average: true, avgMs: 100 },\r\n        texture: { caption: 'GenTex', average: true, avgMs: 100 }\r\n      },\r\n      groups: [\r\n        { caption: 'Framerate', values: ['fps', 'raf'] },\r\n        { caption: 'Frame Budget', values: ['frame', 'texture', 'setup', 'render'] }\r\n      ],\r\n      fractions: [\r\n        { base: 'frame', steps: ['texture', 'setup', 'render'] }\r\n      ],\r\n      plugins: [bS, tS, glS]\r\n    });\r\n  };\r\n\r\n  static start() {\r\n    rS('frame').start();\r\n    glS.start();\r\n\r\n    rS('rAF').tick();\r\n    rS('FPS').frame();\r\n\r\n    rS('render').start();\r\n  };\r\n\r\n  static end() {\r\n    rS('render').end(); // render finished\r\n    rS('frame').end(); // frame finished\r\n\r\n    // Local rStats update\r\n    rS('rStats').start();\r\n    rS().update();\r\n    rS('rStats').end();\r\n  };\r\n}\r\n","import * as THREE from 'three';\r\n\r\nimport OrbitControls from '../../utils/orbitControls';\r\nimport config from '../../data/config';\r\n\r\n// Controls based on orbit controls\r\nexport default class Controls {\r\n  constructor(camera, container) {\r\n    // Orbit controls first needs to pass in THREE to constructor\r\n    const orbitControls = new OrbitControls(THREE);\r\n    this.threeControls = new orbitControls(camera, container);\r\n\r\n    this.init();\r\n  }\r\n\r\n  init() {\r\n    this.threeControls.target.set(config.controls.target.x, config.controls.target.y, config.controls.target.z);\r\n    this.threeControls.autoRotate = config.controls.autoRotate;\r\n    this.threeControls.autoRotateSpeed = config.controls.autoRotateSpeed;\r\n    this.threeControls.rotateSpeed = config.controls.rotateSpeed;\r\n    this.threeControls.zoomSpeed = config.controls.zoomSpeed;\r\n    this.threeControls.minDistance = config.controls.minDistance;\r\n    this.threeControls.maxDistance = config.controls.maxDistance;\r\n    this.threeControls.minPolarAngle = config.controls.minPolarAngle;\r\n    this.threeControls.maxPolarAngle = config.controls.maxPolarAngle;\r\n    this.threeControls.enableDamping = config.controls.enableDamping;\r\n    this.threeControls.enableZoom = config.controls.enableZoom;\r\n    this.threeControls.dampingFactor = config.controls.dampingFactor;\r\n  }\r\n}\r\n","// Global imports -\r\nimport * as THREE from 'three';\r\nimport TWEEN from 'tween.js';\r\n\r\nimport Renderer from './components/renderer';\r\nimport Camera from './components/camera';\r\nimport Controls from './components/controls';\r\n\r\nimport Stats from './helpers/stats';\r\nimport config from './../data/config';\r\n\r\nexport default class Main {\r\n  constructor(container) {\r\n    this._container = container;\r\n\r\n    this._clock == null;\r\n    this._scene = null;\r\n    this._renderer = null;\r\n    this._camera = null;\r\n    this._controls = null;\r\n    this._fog = null;\r\n\r\n    this._init();\r\n    this._hideLoadingText();\r\n    this._render();\r\n  }\r\n\r\n  _init() {\r\n    this._clock = new THREE.Clock();\r\n    this._scene = new THREE.Scene();\r\n    this._fog = new THREE.FogExp2(config.fog.color, config.fog.near);\r\n    this._renderer = new Renderer(this._scene, this._container);\r\n    this._camera = new Camera(this._renderer.threeRenderer);\r\n    this._controls = new Controls(this._camera.threeCamera, this._container);\r\n\r\n    if (config.isDev && config.showStats) {\r\n      this.stats = new Stats(this._renderer);\r\n      this.stats.setUp();\r\n    };\r\n  }\r\n\r\n  _hideLoadingText() {\r\n    this._container.querySelector('#loading').style.display = 'none';\r\n  }\r\n\r\n  _render() {\r\n    if (config.isDev && config.showStats) {\r\n      Stats.start();\r\n    }\r\n\r\n    this._renderer.render(this._scene, this._camera.threeCamera);\r\n\r\n    if (config.isDev && config.showStats) {\r\n      Stats.end();\r\n    }\r\n\r\n    TWEEN.update();\r\n    this._controls.threeControls.update();\r\n\r\n    requestAnimationFrame(this._render.bind(this));\r\n  }\r\n}\r\n","import Config from './data/config';\r\nimport Detector from './utils/detector';\r\nimport Main from './app/main';\r\n\r\n// Styles\r\nimport './../css/app.scss';\r\n\r\n// Check environment and set the Config helper\r\nif(__ENV__ === 'dev') {\r\n  console.log('----- RUNNING IN DEV ENVIRONMENT! -----');\r\n\r\n  Config.isDev = true;\r\n}\r\n\r\nfunction init() {\r\n  // Check for webGL capabilities\r\n  if(!Detector.webgl) {\r\n    Detector.addGetWebGLMessage();\r\n  } else {\r\n    const container = document.getElementById('appContainer');\r\n    new Main(container);\r\n  }\r\n}\r\n\r\ninit();\r\n"],"sourceRoot":""}